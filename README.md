# Интернет-библиотека

Система управления библиотекой на Django с поддержкой:
- Учёта книг, авторов и жанров  
- Выдачи и возврата книг  
- Администрирования через веб-интерфейс  
- Визуализации статистики через **Metabase**  
- Отказоустойчивой архитектуры на базе **Docker Swarm**

## Основные возможности

- **Каталог книг** с фильтрацией по жанрам и поиском с автодополнением  
- **Пагинация** результатов  
- **Страницы детального просмотра** книги и автора  
- **Админка для библиотекарей**:
  - Управление книгами, авторами, жанрами  
  - Учёт выданных и возвращённых книг  
- **Аналитика библиотеки** через дашборд:
  - Топ авторов по выдачам  
  - Распределение жанров  
  - Популярные книги и активность читателей  

## Архитектура

Система построена с использованием **Docker Swarm** и включает следующие сервисы:

| Сервис     | Назначение                          | Отказоустойчивость                     |
|------------|-------------------------------------|----------------------------------------|
| `nginx`    | Reverse proxy и обслуживание статики | Балансирует запросы между репликами `web` |
| `web`      | Django-приложение (2 реплики)       | При падении одной реплики — вторая продолжает работу |
| `db`       | PostgreSQL 16                       | Данные сохраняются в именованный том `postgres_data` |
| `redis`    | Кэш-сервер Redis                    | Кэширование поисковых запросов и сессий |
| `metabase` | Платформа аналитики                 | Публичный дашборд для визуализации статистики |

Все сервисы работают в единой overlay-сети `library-network` и взаимодействуют по именам сервисов.

## Запуск проекта

### Требования
- Docker (v20.10+)
- Docker Swarm
- Git

### Инструкция
1) Клонируйте docker-compose.swarm.yml curl-O https://raw.githubusercontent.com/vettta06/internet_library/main/docker-compose.swarm.yml
2) Инициализируйте Docker Swarm: docker swarm init
3) Запустите приложение: docker stack deploy -c docker-compose.swarm.yml library
